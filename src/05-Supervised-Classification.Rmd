---
title: "05-Supervised Calssfication with Trained Data"
output:
  pdf_document: default
  html_document: default
---


#Supervised Classification with Training Set:

Supervised Classification with a training set tends to offer the best accuracy rate.  This chapter deals with the training set and how it relates to the quality of the data and the deduplication process:

###Experiment 1 - Minimal Training Set with 200 matched pairs on a dataset of 5k Records

*  The experiment is conducted on a dataset of fixed size (5K) records throughout.  

*  A minimal traned set of 180 record pairs is used to classify a dataset of 5K records with varied quality.  

*  The machine identified 594 links in the place of the actual 525 when the quality of the dataset id 72%.  
This deteriorates to 8.71 times the actual record when the data quality drops to 59%.


```{r experiment1, echo=FALSE, message=FALSE, warning=FALSE}
QS.results.200 <- read.csv(file="QS-results-200.csv")
QS.results.200 <- QS.results.200[,-1]
colnames(QS.results.200) <- c("No.","Total Records","Count Changes",
                              "Non-Duplicates","Record Pairs","Perc Quality",
                              "St-N","St-P","St-L",
                              "Perc Records Ident")
panderOptions('table.alignment.default','left')
#pander(QS.results.200, caption="Results from 200 pair training set", short= TRUE, split.tables=150)
#pandoc.table(QS.results.200, split.cells = c(1,1,1,3,2,5,2,2,4),caption="Results from 200 pair training set", #short= TRUE, split.tables=150,style = "multiline")
pander(QS.results.200, caption="Results from 200 pair training set", short= TRUE, split.tables=200)


```


###Experiment 2 - Training Set with 1800 matched pairs on 10K records

*  In this experiment the size of the dataset has been increased to 10k and kept steady throughout.  

*  The training set consists of 1800 pairs of matched data which is used for classification.    

*  The machine consistently identifies above 95% of records all the time.  



```{r experiment2, echo=FALSE, message=FALSE, warning=FALSE}
QS.results.10k <- read.csv(file="QS-results-10k.csv")
QS.results.10k <- QS.results.10k[,-c(1)]
QS.results.10k <- QS.results.10k[,-c(7:12)]
QS.results.10k <- QS.results.10k[,-c(10:12)]
colnames(QS.results.10k) <- c("No.","Total Records","Count Changes",
                              "Non-Duplicates","Record Pairs","Perc Quality",
                              "St-N","St-P","St-L",
                              "Perc Records Ident")
panderOptions('table.alignment.default','left')
pander(QS.results.10k, caption="Legend for the Classification Table", short= TRUE, split.tables=200)
```



###Experiment 3 - Training Set with 1800 matched pairs on 20K records

*  In this experiment the size of the dataset has been increased to 20k and kept steady throughout.  

*  The training set consists of 1800 pairs of matched data which is used for classification.    

*  The machine consistently identifies above 96% of records all the time.  


```{r experiment3, echo=FALSE, message=FALSE, warning=FALSE}
QS.results.20k <- read.csv(file="QS-results-20k.csv")

colnames(QS.results.20k) <- c("No.","Total Records","Count Changes",
                              "Non-Duplicates","Record Pairs","Perc Quality",
                              "St-N","St-P","St-L",
                              "Perc Records Ident")
#QS.results.20k <- QS.results.30k[,-c(1)]

panderOptions('table.alignment.default','left')
pander(QS.results.20k, caption="Legend for the Classification Table", short= TRUE, split.tables=200)
```


###Experiment 4 - Training Set with 1800 matched pairs on 30K records

*  In this experiment the size of the dataset has been increased to 30k and kept steady throughout.  

*  The training set consists of 1800 pairs of matched data which is used for classification.    

*  The count of identified records has dropped to 51.23%


```{r experiment4, echo=FALSE, message=FALSE, warning=FALSE}
QS.results.30k <- read.csv(file="QS-results-30k.csv")

QS.results.30k <- QS.results.30k[,-c(1)]

# colnames(QS.results.30k) <- c("No.","Total Records","Count Changes",
#                               "Non-Duplicates","Record Pairs","Perc Quality",
#                               "St-N","St-P","St-L",
#                               "Perc Records Ident")

panderOptions('table.alignment.default','left')
pander(QS.results.30k, caption="Legend for the Classification Table", short= TRUE, split.tables=200)
```


**Notes**
*  Iterations 1 to 5 uses individual Training sets created through clerical supervision  
*  Iteration 6 (50 K records) uses the Training set from (10 K records)  
*  The training set count increases from 30, 50, 90, 120, 150 across each of the iterations  

Clerical intervention is required in the case where a minimal training set is prepared.  The following figure shows the different scenarios and how the is_match column is updated to train the training set.  

This trained model is the input for Classification by the Machine.  
